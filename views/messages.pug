extends layout
  
block content
    div(class="h-full grid grid-cols-2 grid-rows-[repeat(2,max-content),repeat(2,auto)] gap-6 px-6")
        h1(class="col-start-1 col-end-3 row-start-1 row-end-2 text-center font-extrabold text-xl md:text-2xl lg:text-3xl xl:text-4xl") Liste des messages
        div(class="col-start-1 col-end-2 row-start-2 row-end-3 bg-gray-50 p-3 my-3 flex flex-col items-center justify-center")
            h2(class="text-2xl font-semibold py-3") Nouveux messages
            p(class="rounded-full p-5 w-12 h-12 w-32 h-32 text-xl font-bold border-2 bg-slate-200 border-2 border-slate-300 flex justify-center items-center") !{messages.filter(message => message.read === false).length}
        ul.statistic(class="col-start-2 col-end-3 row-start-2 row-end-3 bg-gray-50 p-3 flex flex-col my-3 gap-y-4")
            h2(class='text-2xl font-bold mb-2') Les statistiques
            li.ml-6 Nombre total de nessages: !{messages.length}
            li.ml-6 Nombre de messages non lus: !{messages.filter(message => message.read === false).length}
            li.ml-6 Nombre de messages lus: !{messages.filter(message => message.read === true).length}
        div.liste-messages(class="bg-gray-50 p-6 col-start-1 col-end-3 row-start-3 row-end-5")
            h2(class="font-bold text-2xl mb-3 py-3") Listes des messages
            table(class="w-full border-2 p-2 mb-6")
                thead
                    tr(class="py-2 bg-slate-200  border-b-2 border-slate-600")
                        th(class="text-center py-2 px-1") Date
                        th(class="text-center py-2 px-1") Nom
                        th(class="text-center py-2 px-1") Email
                        th(class="text-center py-2 px-1") Message
                tbody
                    each message in messages
                        tr(class="even:bg-slate-200 border-b-2 border-slate-600")
                            td(class="text-center py-2 px-1")= message.date.toLocaleString()
                            td(class="text-center py-2 px-1")= message.nom
                            td(class="text-center py-2 px-1")= message.email
                            td(class="text-center py-2 px-1")= message.message
